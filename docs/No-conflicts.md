# Гайд: Как работать в Git, чтобы ваши изменения не мешали другим разработчикам  
**Пайплайн действий для командной разработки**

---

## Цель  
Обеспечить **чистую историю коммитов**, **минимизировать конфликты** и **не ломать основную ветку** (`main`/`master`).  
Этот гайд подходит для команд любого размера.

---

## Основные принципы

| Принцип | Почему важно |
|--------|--------------|
| **Никогда не коммить напрямую в `main`** | Защищает стабильность продакшена |
| **Работай в своей ветке** | Изолирует изменения |
| **Часто синхронизируйся с `main`** | Уменьшает конфликты |
| **Делай атомарные коммиты** | Упрощает ревью и откат |
| **Пиши понятные сообщения коммитов** | Ускоряет понимание изменений |

---

## Пайплайн действий (шаг за шагом)

### 1. **Обнови локальный `main`**
```bash
git checkout main
git pull origin main
```

### 2. Создай фичевую ветку

```bash
git checkout -b feature/название-задачи
```

### 3. Работай локально

Делай маленькие, логически завершенные коммиты

```bash
git add .
git commit -m "feat: добавить валидацию email на форме входа"
```

### 4. Синхронизируйся с main (часто!)

Если main обновился во время твоей работы:

```bash
git checkout main
git pull origin main
git checkout feature/название-задачи
git merge main
```

Если возник конфликт:

Открой файлы с конфликтами
Исправь вручную
```bash
git add <файл>
git rebase --continue
```

### 5. Запушь ветку и создай Pull Request

```bash
git push origin feature/название-задачи
```

Зайдите на гитхаб. 
Создайте новый Pull Request / Merge Request из вашей ветки в main.
В описании укажите, что было сделано.

### 6. Дождись ревью Саши

### 7. Внеси правки (если нужно)

### 8. Смерджи ветки

### 9. Обнови локальный main и удали ветку

```bash
git checkout main
git pull origin main
git branch -d feature/название-задачи
git push origin --delete feature/название-задачи
```


# ПРОБЛЕМЫ

1) Я писал изменения в main 

```bash
# Создаем новую ветку из текущего состояния main
git checkout -b feature/your-new-branch-name

# Переключаемся обратно на main
git checkout main

# Откатываем main к состоянию, в котором она была до ваших коммитов
# (Узнайте хеш коммита, в который нужно откатиться, через `git log`)
git reset --hard <commit-hash>

# Или откатываем на 1 коммит назад
git reset --hard HEAD~1

# Теперь ваши изменения только в новой ветке, а main чиста.
```

2) При слиянии случился конфликт

- Git пометит файлы с конфликтами. Откройте их в редакторе.
- Найдите маркеры конфликта (<<<<<<<, =======, >>>>>>>).
- Вручную решите, какой код оставить, а какой удалить. Уберите все маркеры.
- Добавьте исправленные файлы и завершите слияние коммитом.